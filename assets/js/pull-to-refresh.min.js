!function(){"use strict";const e=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone,n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!e&&!n)return;let t=0,r=0,s=!1,o=null,i=null,l=!1;function a(){return window.scrollY<=0}function c(){if(window.scrollLock&&window.scrollLock.isLocked&&window.scrollLock.isLocked())return!0;if(document.body.classList.contains("scroll-locked")||document.body.classList.contains("modal-open")||document.body.classList.contains("hamburger-menu-open"))return!0;return!!document.querySelector(".modal-overlay.active, .cc-modal-overlay.active, #detailOverlay.active")}function d(e){c()||a()&&(t=e.touches[0].clientY,r=t,s=!1,i=null,l=!1,o.style.transition="none")}function u(e){if(c())return;if(!a())return;r=e.touches[0].clientY;const n=r-t;if(!s&&n>30&&(s=!0),!s)return;const d=Math.min(n-30,160);if(d>0){e.preventDefault();const n=d*.5+Math.min(.3*d,30);o.style.height=n+"px";const t=o.querySelector(".pull-refresh-content"),r=o.querySelector(".pull-refresh-spinner"),s=o.querySelector(".pull-refresh-spinner circle"),a=o.querySelector(".pull-refresh-text");n>20&&t.classList.add("visible");const c=126-126*Math.min(d/120,1);if(s.style.strokeDashoffset=c,document.body.style.transform=`translateY(${n}px)`,document.body.style.transition="none",d>=120){null===i&&(i=Date.now(),r.classList.add("holding"),r.classList.remove("ready"),a.textContent="Podrz...",a.classList.remove("ready"));Date.now()-i>=400&&!l&&(l=!0,r.classList.remove("holding"),r.classList.add("ready"),a.textContent="Uvolni pro aktualizaci",a.classList.add("ready"),navigator.vibrate&&navigator.vibrate(10))}else i=null,l=!1,r.classList.remove("ready","holding"),a.textContent="Potahni dolu",a.classList.remove("ready")}}function f(){if(!s)return t=0,void(r=0);s=!1,o.style.transition="height 0.3s ease",document.body.style.transition="transform 0.3s ease";const e=o.querySelector(".pull-refresh-content"),n=o.querySelector(".pull-refresh-spinner"),a=o.querySelector(".pull-refresh-text");l?(n.classList.remove("ready","holding"),n.classList.add("loading"),a.textContent="Aktualizuji...",a.classList.remove("ready"),o.style.height="70px",document.body.style.transform="translateY(70px)",setTimeout(()=>{window.location.reload()},500)):(o.style.height="0",document.body.style.transform="translateY(0)",n.classList.remove("ready","holding","loading"),a.classList.remove("ready"),setTimeout(()=>{const n=o.querySelector(".pull-refresh-spinner circle");n&&(n.style.strokeDashoffset="126"),e.classList.remove("visible")},300)),t=0,r=0,i=null,l=!1}function p(){!function(){o=document.createElement("div"),o.id="pull-refresh-indicator",o.innerHTML='\n      <div class="pull-refresh-content">\n        <div class="pull-refresh-spinner">\n          <svg viewBox="0 0 50 50">\n            <circle cx="25" cy="25" r="20" fill="none" stroke-width="4"></circle>\n          </svg>\n        </div>\n        <span class="pull-refresh-text">Potahni dolu</span>\n      </div>\n    ',o.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      height: 0;\n      background: linear-gradient(to bottom, #f0f0f0, #e8e8e8);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n      z-index: 10003;\n      transition: none;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n    ";const e=document.createElement("style");e.textContent="\n      #pull-refresh-indicator .pull-refresh-content {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 0.4rem;\n        opacity: 0;\n        transform: scale(0.8);\n        transition: opacity 0.2s, transform 0.2s;\n      }\n      #pull-refresh-indicator .pull-refresh-content.visible {\n        opacity: 1;\n        transform: scale(1);\n      }\n      #pull-refresh-indicator .pull-refresh-spinner {\n        width: 32px;\n        height: 32px;\n      }\n      #pull-refresh-indicator .pull-refresh-spinner svg {\n        width: 100%;\n        height: 100%;\n        transform: rotate(-90deg);\n      }\n      #pull-refresh-indicator .pull-refresh-spinner circle {\n        stroke: #333;\n        stroke-dasharray: 126;\n        stroke-dashoffset: 126;\n        stroke-linecap: round;\n        transition: stroke-dashoffset 0.05s linear;\n      }\n      #pull-refresh-indicator .pull-refresh-spinner.holding circle {\n        stroke: #666;\n        animation: ptr-pulse 0.5s ease-in-out infinite;\n      }\n      #pull-refresh-indicator .pull-refresh-spinner.ready circle {\n        stroke-dashoffset: 0;\n        stroke: #222;\n      }\n      #pull-refresh-indicator .pull-refresh-spinner.loading svg {\n        animation: ptr-spin 0.8s linear infinite;\n        transform: rotate(0deg);\n      }\n      #pull-refresh-indicator .pull-refresh-spinner.loading circle {\n        stroke-dashoffset: 90;\n        stroke: #333;\n        animation: ptr-dash 1.2s ease-in-out infinite;\n      }\n      @keyframes ptr-spin {\n        100% { transform: rotate(360deg); }\n      }\n      @keyframes ptr-dash {\n        0% { stroke-dashoffset: 90; }\n        50% { stroke-dashoffset: 30; }\n        100% { stroke-dashoffset: 90; }\n      }\n      @keyframes ptr-pulse {\n        0%, 100% { opacity: 1; }\n        50% { opacity: 0.6; }\n      }\n      #pull-refresh-indicator .pull-refresh-text {\n        font-size: 0.7rem;\n        color: #555;\n        font-family: 'Poppins', -apple-system, sans-serif;\n        font-weight: 500;\n        letter-spacing: 0.02em;\n        transition: color 0.2s;\n      }\n      #pull-refresh-indicator .pull-refresh-text.ready {\n        color: #222;\n        font-weight: 600;\n      }\n    ",document.head.appendChild(e),document.body.insertBefore(o,document.body.firstChild)}(),document.addEventListener("touchstart",d,{passive:!0}),document.addEventListener("touchmove",u,{passive:!1}),document.addEventListener("touchend",f,{passive:!0})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",p):p()}();
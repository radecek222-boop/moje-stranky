{"version":3,"names":["ReplayPlayer","config","canvasId","timelineId","playPauseButtonId","speedSelectId","currentTimeId","totalTimeId","defaultSpeed","speeds","state","frames","currentFrameIndex","isPlaying","playbackSpeed","startTime","animationFrameId","canvas","ctx","cursorX","cursorY","sessionId","pageIndex","init","this","document","getElementById","getContext","loadReplayData","setupControls","console","log","error","async","csrfToken","querySelector","value","loadingEl","textContent","response","fetch","encodeURIComponent","result","json","status","data","width","viewport","height","totalTimeMs","duration_ms","totalTimeEl","formatTime","pageInfoEl","page_url","total_frames","length","style","display","drawFrame","message","color","playPauseBtn","addEventListener","pause","play","speedSelect","e","setSpeed","parseFloat","target","timeline","percent","seekToPercent","Date","now","getCurrentTimestamp","animatePlayback","btn","cancelAnimationFrame","elapsed","frameIndex","findFrameIndexByTimestamp","updateTimeline","requestAnimationFrame","bind","frame","clearRect","event_type","event_data","x","y","drawClickAnimation","drawScrollIndicator","scroll_percent","drawCursor","fillStyle","beginPath","arc","Math","PI","fill","strokeStyle","lineWidth","i","globalAlpha","stroke","scrollPercent","barHeight","barX","fillRect","filledHeight","currentFrame","currentTime","timestamp_offset","totalTime","currentTimeEl","targetTime","speed","wasPlaying","timestamp","ms","totalSeconds","floor","toString","padStart","window"],"sources":["replay-player.js"],"mappings":"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","ignoreList":[]}
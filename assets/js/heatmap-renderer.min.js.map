{"version":3,"names":["HeatmapRenderer","canvas","ctx","config","radius","blur","maxIntensity","gradient","init","canvasId","this","document","getElementById","getContext","console","log","error","renderClickHeatmap","data","clearRect","width","height","points","length","warn","Math","max","map","p","count","forEach","point","x","y","intensity","drawHeatPoint","applyGradient","renderScrollHeatmap","buckets","bucketHeight","bucket","depth","percentage","color","getColorForIntensity","fillStyle","r","g","b","a","fillRect","createRadialGradient","alpha","min","addColorStop","imageData","getImageData","pixels","i","putImageData","stops","Object","keys","Number","sort","lower","upper","ratio","colorLower","parseColor","colorUpper","round","colorString","match","parseInt","parseFloat","renderLegend","containerId","container","innerHTML","legendCanvas","createElement","createLinearGradient","entries","stop","labels","style","cssText","text","label","textContent","appendChild","position","exportToPNG","filename","link","download","href","toDataURL","click","window"],"sources":["heatmap-renderer.js"],"mappings":"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","ignoreList":[]}
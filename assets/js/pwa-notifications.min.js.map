{"version":3,"names":["CONFIG","lastUnreadCounts","totalUnread","pollingTimer","notificationPermission","swRegistration","pushSubscription","vapidPublicKey","isIOS","test","navigator","userAgent","window","MSStream","isPWA","matchMedia","matches","standalone","iosVersion","match","parseFloat","getIOSVersion","iosSupportsWebPush","async","init","console","log","serviceWorker","ready","pushManager","getSubscription","e","Notification","permission","registrovatPushSubscription","aktualizovatPocetNeprectenych","spustitPolling","document","addEventListener","onVisibilityChange","urlBase64ToUint8Array","base64String","base64","repeat","length","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","vapidKey","response","fetch","data","json","status","message","error","nacistVapidKey","subscribe","userVisibleOnly","applicationServerKey","subscription","csrfInput","querySelector","csrfToken","value","csrfResponse","csrfData","token","formData","FormData","append","JSON","stringify","method","body","ulozitSubscriptionNaServer","name","pozadatOPovoleni","requestPermission","nastavitBadge","pocet","setAppBadge","clearAppBadge","zobrazitNotifikaci","titulek","text","visibilityState","showNotification","icon","badge","tag","vibrate","requireInteraction","onclick","focus","this","close","claim_id","location","href","ok","Error","newCounts","unread_counts","newTotal","Object","values","reduce","sum","count","parseInt","claimId","entries","baseTitle","title","aktualizovatTitle","clearInterval","setInterval","WGSNotifikace","aktualizovat","zobrazitDialogPovoleni","localStorage","getItem","dialog","createElement","id","innerHTML","appendChild","getElementById","remove","setItem","registrovatPush","zrusitPush","endpoint","unsubscribe","getTotal","getPushSubscription","readyState","setTimeout"],"sources":["assets/js/pwa-notifications.js"],"mappings":"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","ignoreList":[]}
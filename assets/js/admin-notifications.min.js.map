{"version":3,"names":["notificationState","notifications","currentEditing","ccEmails","bccEmails","ADMIN_SESSION_EXPIRED_MESSAGE","redirectToAdminLogin","tab","redirectTarget","window","location","href","encodeURIComponent","handleNotificationsUnauthorized","response","container","status","innerHTML","wgsToast","error","setTimeout","async","loadNotifications","document","getElementById","res","fetch","credentials","result","ok","json","parseErr","message","Error","data","renderNotifications","err","console","length","map","notif","recipientName","customer","admin","technician","seller","recipient_type","typeName","type","safeName","Utils","escapeHtml","name","safeDescription","description","safeTrigger","trigger_event","safeSubject","subject","safeTemplate","template","replace","id","active","join","toggleNotificationBody","notificationId","openEditNotificationModal","toggleNotification","find","n","newActive","csrfToken","getCSRFToken","method","headers","body","JSON","stringify","notification_id","csrf_token","text","initNotifications","urlParams","URLSearchParams","search","hasContainer","get","textContent","value","variablesContainer","variables","v","cc_emails","bcc_emails","renderCCEmails","renderBCCEmails","updateTemplatePreview","modal","classList","remove","style","position","top","left","width","height","alignItems","justifyContent","zIndex","closeEditNotificationModal","add","insertVariable","variable","textarea","start","selectionStart","end","selectionEnd","substring","focus","setSelectionRange","preview","previewText","attachTemplateListener","templateInput","addEventListener","saveNotificationTemplate","errorDiv","successDiv","recipient","trim","addCCEmail","input","email","match","includes","warning","push","removeCCEmail","filter","e","addBCCEmail","removeBCCEmail","addModalStyles","createElement","head","appendChild","readyState","registerAction","el"],"sources":["assets/js/admin-notifications.js"],"mappings":"AAIA,IAAIA,kBAAoB,CACtBC,cAAe,GACfC,eAAgB,KAChBC,SAAU,GACVC,UAAW,IAGb,MAAMC,8BAAgC,oEAItC,SAASC,qBAAqBC,EAAM,IAClC,MAAMC,EAAiBD,EAAM,iBAAiBA,IAAQ,YACtDE,OAAOC,SAASC,KAAO,sBAAsBC,mBAAmBJ,IAClE,CAEA,SAASK,gCAAgCC,EAAUC,EAAWR,EAAM,iBAClE,SAAIO,GAAiC,MAApBA,EAASE,QAAsC,MAApBF,EAASE,UAC/CD,EACFA,EAAUE,UAAY,8BAA8BZ,sCAEpDa,SAASC,MAAMd,+BAGjBe,WAAW,IAAMd,qBAAqBC,GAAM,MACrC,EAIX,CAKAc,eAAeC,oBACb,MAAMP,EAAYQ,SAASC,eAAe,2BAC1C,GAAKT,EAEL,IACE,MAAMU,QAAYC,MAAM,oCAAqC,CAC3DC,YAAa,gBAGf,IAAIC,EAEJ,IAAKH,EAAII,GAAI,CACX,GAAIhB,gCAAgCY,EAAKV,GACvC,OAGF,IACEa,QAAeH,EAAIK,MACrB,CAAE,MAAOC,GACPH,EAAS,IACX,CAEA,MAAMI,EAAUJ,GAAQI,QAAU,KAAKJ,EAAOI,UAAY,GAC1D,MAAM,IAAIC,MAAM,QAAQR,EAAIT,SAASgB,IACvC,CAEAJ,QAAeH,EAAIK,OAEG,YAAlBF,EAAOZ,QACThB,kBAAkBC,cAAgB2B,EAAOM,MAAQ,GACjDC,uBAEApB,EAAUE,UAAY,8BAA8BW,EAAOI,SAAW,uCAE1E,CAAE,MAAOI,GACPC,QAAQlB,MAAM,6BAA8BiB,GAC5C,MAAMJ,EAAUI,GAAOA,EAAIJ,QAAUI,EAAIJ,QAAU,gCACnDjB,EAAUE,UAAY,8BAA8Be,SACtD,CACF,CAKA,SAASG,sBACP,MAAMpB,EAAYQ,SAASC,eAAe,2BAErCxB,kBAAkBC,eAA4D,IAA3CD,kBAAkBC,cAAcqC,OAKxEvB,EAAUE,UAAYjB,kBAAkBC,cAAcsC,IAAIC,IACxD,MAAMC,EAAgB,CACpBC,SAAY,WACZC,MAAS,QACTC,WAAc,UACdC,OAAU,YACVL,EAAMM,iBAAmBN,EAAMM,eAE3BC,EAA0B,SAAfP,EAAMQ,KAAkB,cACT,UAAfR,EAAMQ,KAAmB,QAAU,MAE9CC,EAAWC,MAAMC,WAAWX,EAAMY,MAClCC,EAAkBH,MAAMC,WAAWX,EAAMc,aAAe,cACxDC,EAAcL,MAAMC,WAAWX,EAAMgB,eAAiB,IACtDC,EAAcP,MAAMC,WAAWX,EAAMkB,SAAW,IAChDC,EAAeT,MAAMC,WAAWX,EAAMoB,UAAY,IAAIC,QAAQ,MAAO,QAE3E,MAAO,mIAE8ErB,EAAMsB,0FAExDtB,EAAMuB,OAAS,SAAW,eAAevB,EAAMuB,OAAS,UAAY,yCACvFd,kHAGoBT,EAAMuB,OAAS,SAAW,mEACLvB,EAAMsB,8GAGJtB,EAAMsB,mKAGlBT,gIAGAE,gIAGAd,2HAGAM,0CAGvCP,EAAMkB,QAAU,8QAG+DD,0CAE7E,+NAI8BE,sHAG4CnB,EAAMsB,sEAIzFE,KAAK,IAhENjD,EAAUE,UAAY,yDAiE1B,CAKA,SAASgD,uBAAuBC,GAC9BC,0BAA0BD,EAC5B,CAEA7C,eAAe+C,mBAAmBF,GAChC,MAAM1B,EAAQxC,kBAAkBC,cAAcoE,KAAKC,GAAKA,EAAER,IAAMI,GAChE,IAAK1B,EAAO,OAEZ,MAAM+B,GAAa/B,EAAMuB,OAEzB,IACE,MAAMS,EAAoC,mBAAjBC,mBAAoCA,eAAiB,KAC9E,IAAKD,EACH,MAAM,IAAIvC,MAAM,4BAGlB,MAAMR,QAAYC,MAAM,0CAA2C,CACjEgD,OAAQ,OACR/C,YAAa,cACbgD,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEC,gBAAiBb,EAAgBH,OAAQQ,EAAWS,WAAYR,MAGzF,IAAK/C,EAAII,GAAI,CACX,GAAIhB,gCAAgCY,EAAK,KAAM,iBAC7C,OAGF,MAAMO,QAAgBP,EAAIwD,OAC1B,MAAM,IAAIhD,MAAMD,GAAW,mCAC7B,CAGsB,mBADDP,EAAIK,QACdd,SACTwB,EAAMuB,OAASQ,EACfpC,sBAEJ,CAAE,MAAOC,GACPC,QAAQlB,MAAM,iBAAkBiB,GAChClB,SAASC,MAAM,mCACjB,CACF,CAGA,SAAS+D,oBACP,MAAMC,EAAY,IAAIC,gBAAgB3E,OAAOC,SAAS2E,QAChDC,EAAe/D,SAASC,eAAe,2BACvCjB,EAAM4E,EAAUI,IAAI,OAGtBD,GAAwB,kBAAR/E,GAClBe,mBAEJ,CAYA,SAAS6C,0BAA0BD,GACjC,MAAM1B,EAAQxC,kBAAkBC,cAAcoE,KAAKC,GAAKA,EAAER,IAAMI,GAChE,IAAK1B,EAAO,OAEZxC,kBAAkBE,eAAiBsC,EAEnCjB,SAASC,eAAe,yBAAyBgE,YAAc,aAAahD,EAAMY,OAClF7B,SAASC,eAAe,kBAAkBiE,MAAQjD,EAAMM,eACxDvB,SAASC,eAAe,gBAAgBiE,MAAQjD,EAAMkB,SAAW,GACjEnC,SAASC,eAAe,iBAAiBiE,MAAQjD,EAAMoB,SAGvD,MAAM8B,EAAqBnE,SAASC,eAAe,uBAC/CkE,GAAsBlD,EAAMmD,YAC9BD,EAAmBzE,UAAYuB,EAAMmD,UAAUpD,IAAIqD,GACjD,0EAA0EA,MAAMA,YAChF5B,KAAK,KAIThE,kBAAkBG,SAAWqC,EAAMqD,WAAa,GAChD7F,kBAAkBI,UAAYoC,EAAMsD,YAAc,GAClDC,iBACAC,kBAEAC,wBAEA,MAAMC,EAAQ3E,SAASC,eAAe,yBACtC0E,EAAMC,UAAUC,OAAO,UACvBF,EAAMG,MAAMC,SAAW,QACvBJ,EAAMG,MAAME,IAAM,IAClBL,EAAMG,MAAMG,KAAO,IACnBN,EAAMG,MAAMI,MAAQ,QACpBP,EAAMG,MAAMK,OAAS,QACrBR,EAAMG,MAAMM,WAAa,SACzBT,EAAMG,MAAMO,eAAiB,SAC7BV,EAAMG,MAAMQ,OAAS,MAEvB,CAEA,SAASC,6BACPvF,SAASC,eAAe,yBAAyB2E,UAAUY,IAAI,UAC/D/G,kBAAkBE,eAAiB,KACnCqB,SAASC,eAAe,2BAA2B2E,UAAUY,IAAI,UACjExF,SAASC,eAAe,6BAA6B2E,UAAUY,IAAI,SACrE,CAEA,SAASC,eAAeC,GACtB,MAAMC,EAAW3F,SAASC,eAAe,iBACnC2F,EAAQD,EAASE,eACjBC,EAAMH,EAASI,aACfrC,EAAOiC,EAASzB,MAEtByB,EAASzB,MAAQR,EAAKsC,UAAU,EAAGJ,GAASF,EAAWhC,EAAKsC,UAAUF,GACtEH,EAASM,QACTN,EAASO,kBAAkBN,EAAQF,EAAS3E,OAAQ6E,EAAQF,EAAS3E,QAErE2D,uBACF,CAEA,SAASA,wBACP,MAAMrC,EAAWrC,SAASC,eAAe,iBAAiBiE,MACpDiC,EAAUnG,SAASC,eAAe,oBAExC,IAAKkG,EAAS,OAEd,IAAK9D,EAEH,YADA8D,EAAQlC,YAAc,mBAKxB,IAAImC,EAAc/D,EACfC,QAAQ,yBAA0B,aAClCA,QAAQ,gBAAiB,aACzBA,QAAQ,gBAAiB,SACzBA,QAAQ,oBAAqB,aAC7BA,QAAQ,0BAA2B,oBACnCA,QAAQ,mBAAoB,qBAC5BA,QAAQ,mBAAoB,cAC5BA,QAAQ,uBAAwB,0BAChCA,QAAQ,2BAA4B,gBACpCA,QAAQ,uBAAwB,kBAChCA,QAAQ,sBAAuB,mBAElC6D,EAAQlC,YAAcmC,CACxB,CAGA,SAASC,yBACP,MAAMC,EAAgBtG,SAASC,eAAe,iBAC1CqG,GACFA,EAAcC,iBAAiB,QAAS7B,sBAE5C,CASA5E,eAAe0G,2BACb,MAAMC,EAAWzG,SAASC,eAAe,2BACnCyG,EAAa1G,SAASC,eAAe,6BAI3C,GAHAwG,EAAS7B,UAAUY,IAAI,UACvBkB,EAAW9B,UAAUY,IAAI,WAEpB/G,kBAAkBE,eAAgB,OAEvC,MAAMgC,EAAO,CACXgG,UAAW3G,SAASC,eAAe,kBAAkBiE,MACrD/B,QAASnC,SAASC,eAAe,gBAAgBiE,MACjD7B,SAAUrC,SAASC,eAAe,iBAAiBiE,MACnDI,UAAW7F,kBAAkBG,SAC7B2F,WAAY9F,kBAAkBI,WAGhC,IAAK8B,EAAK0B,SAASuE,OAGjB,OAFAH,EAASxC,YAAc,qCACvBwC,EAAS7B,UAAUC,OAAO,UAI5B,IACE,MAAM5B,EAAoC,mBAAjBC,mBAAoCA,eAAiB,KAC9E,IAAKD,EACH,MAAM,IAAIvC,MAAM,4BAGlB,MAAMR,QAAYC,MAAM,0CAA2C,CACjEgD,OAAQ,OACR/C,YAAa,cACbgD,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEhB,GAAI9D,kBAAkBE,eAAe4D,MAAO5B,EAAM8C,WAAYR,MAGvF,IAAK/C,EAAII,GAAI,CACX,GAAIhB,gCAAgCY,EAAK,KAAM,iBAC7C,OAGF,MAAMO,QAAgBP,EAAIwD,OAC1B,MAAM,IAAIhD,MAAMD,GAAW,6BAC7B,CAEA,MAAMJ,QAAeH,EAAIK,OACH,YAAlBF,EAAOZ,QACTiH,EAAWzC,YAAc,gCACzByC,EAAW9B,UAAUC,OAAO,UAG5BpG,kBAAkBC,cAAgBD,kBAAkBC,cAAcsC,IAAI+B,GACpEA,EAAER,KAAO9D,kBAAkBE,eAAe4D,GACtC,IAAKQ,KAAMpC,EAAMY,eAAgBZ,EAAKgG,WACtC5D,GAGNnC,sBAEAf,WAAW,KACT0F,8BACC,QAEHkB,EAASxC,YAAc5D,EAAOI,SAAW,6BACzCgG,EAAS7B,UAAUC,OAAO,UAE9B,CAAE,MAAOhE,GACP4F,EAASxC,YAAc,6BACvBwC,EAAS7B,UAAUC,OAAO,UAC1B/D,QAAQlB,MAAMiB,EAChB,CACF,CAKA,SAASgG,aACP,MAAMC,EAAQ9G,SAASC,eAAe,gBAChC8G,EAAQD,EAAM5C,MAAM0C,OAErBG,IACAA,EAAMC,MAAM,8BAIbvI,kBAAkBG,SAASqI,SAASF,GACtCpH,SAASuH,QAAQ,6BAInBzI,kBAAkBG,SAASuI,KAAKJ,GAChCD,EAAM5C,MAAQ,GACdM,kBAVE7E,SAASuH,QAAQ,0BAWrB,CAEA,SAASE,cAAcL,GACrBtI,kBAAkBG,SAAWH,kBAAkBG,SAASyI,OAAOC,GAAKA,IAAMP,GAC1EvC,gBACF,CAEA,SAASA,iBACP,MAAMhF,EAAYQ,SAASC,eAAe,kBACrCT,IACLA,EAAUE,UAAYjB,kBAAkBG,SAASoC,IAAI+F,GAAS,wCAExDA,mFACuEA,+BAE1EtE,KAAK,IACV,CAEA,SAAS8E,cACP,MAAMT,EAAQ9G,SAASC,eAAe,iBAChC8G,EAAQD,EAAM5C,MAAM0C,OAErBG,IACAA,EAAMC,MAAM,8BAIbvI,kBAAkBI,UAAUoI,SAASF,GACvCpH,SAASuH,QAAQ,6BAInBzI,kBAAkBI,UAAUsI,KAAKJ,GACjCD,EAAM5C,MAAQ,GACdO,mBAVE9E,SAASuH,QAAQ,0BAWrB,CAEA,SAASM,eAAeT,GACtBtI,kBAAkBI,UAAYJ,kBAAkBI,UAAUwI,OAAOC,GAAKA,IAAMP,GAC5EtC,iBACF,CAEA,SAASA,kBACP,MAAMjF,EAAYQ,SAASC,eAAe,mBACrCT,IACLA,EAAUE,UAAYjB,kBAAkBI,UAAUmC,IAAI+F,GAAS,wCAEzDA,oFACwEA,+BAE3EtE,KAAK,IACV,CAGA,SAASgF,iBACP,MAAM3C,EAAQ9E,SAAS0H,cAAc,SACrC5C,EAAMb,YAAc,glBAqBpBjE,SAAS2H,KAAKC,YAAY9C,EAC5B,CA1R4B,YAAxB9E,SAAS6H,WACX7H,SAASuG,iBAAiB,mBAAoB5C,mBAE9CA,oBAuG0B,YAAxB3D,SAAS6H,WACX7H,SAASuG,iBAAiB,mBAAoBF,wBAE9CA,yBAgL0B,YAAxBrG,SAAS6H,WACX7H,SAASuG,iBAAiB,mBAAoBkB,gBAE9CA,iBAMmB,oBAAV9F,OAAyBA,MAAMmG,iBACxCnG,MAAMmG,eAAe,yBAA0B,CAACC,EAAIpH,KAC9CA,EAAK4B,IAAwC,mBAA3BG,wBACpBA,uBAAuB/B,EAAK4B,MAIhCZ,MAAMmG,eAAe,qBAAsB,CAACC,EAAIpH,KAC1CA,EAAK4B,IAAoC,mBAAvBM,oBACpBA,mBAAmBlC,EAAK4B,MAI5BZ,MAAMmG,eAAe,4BAA6B,CAACC,EAAIpH,KACjDA,EAAK4B,IAA2C,mBAA9BK,2BACpBA,0BAA0BjC,EAAK4B,MAInCZ,MAAMmG,eAAe,iBAAkB,CAACC,EAAIpH,KACtCA,EAAK+E,UAAsC,mBAAnBD,gBAC1BA,eAAe9E,EAAK+E,YAIxB/D,MAAMmG,eAAe,gBAAiB,CAACC,EAAIpH,KACrCA,EAAKoG,OAAkC,mBAAlBK,eACvBA,cAAczG,EAAKoG,SAIvBpF,MAAMmG,eAAe,iBAAkB,CAACC,EAAIpH,KACtCA,EAAKoG,OAAmC,mBAAnBS,gBACvBA,eAAe7G,EAAKoG","ignoreList":[]}
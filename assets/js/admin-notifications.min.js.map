{"version":3,"names":["notificationState","notifications","currentEditing","ccEmails","bccEmails","ADMIN_SESSION_EXPIRED_MESSAGE","escapeHtml","text","div","document","createElement","textContent","String","innerHTML","redirectToAdminLogin","tab","redirectTarget","window","location","href","encodeURIComponent","handleNotificationsUnauthorized","response","container","status","alert","setTimeout","async","loadNotifications","getElementById","res","fetch","credentials","result","ok","json","parseErr","message","Error","data","renderNotifications","err","console","error","length","map","notif","recipientName","customer","admin","technician","seller","recipient_type","typeName","type","safeName","name","safeDescription","description","safeTrigger","trigger_event","safeSubject","subject","safeTemplate","template","replace","id","active","join","toggleNotificationBody","notificationId","openEditNotificationModal","toggleNotification","find","n","newActive","csrfToken","getCSRFToken","method","headers","body","JSON","stringify","notification_id","csrf_token","initNotifications","urlParams","URLSearchParams","search","hasContainer","get","value","variablesContainer","variables","v","cc_emails","bcc_emails","renderCCEmails","renderBCCEmails","updateTemplatePreview","modal","style","display","position","top","left","width","height","alignItems","justifyContent","zIndex","closeEditNotificationModal","insertVariable","variable","textarea","start","selectionStart","end","selectionEnd","substring","focus","setSelectionRange","preview","previewText","attachTemplateListener","templateInput","addEventListener","saveNotificationTemplate","errorDiv","successDiv","recipient","trim","addCCEmail","input","email","match","includes","push","removeCCEmail","filter","e","addBCCEmail","removeBCCEmail","addModalStyles","head","appendChild","readyState","log"],"sources":["admin-notifications.js"],"mappings":"AAIA,IAAIA,kBAAoB,CACtBC,cAAe,GACfC,eAAgB,KAChBC,SAAU,GACVC,UAAW,IAGb,MAAMC,8BAAgC,oEAEtC,SAASC,WAAWC,GAClB,GAAIA,QACF,MAAO,GAET,MAAMC,EAAMC,SAASC,cAAc,OAEnC,OADAF,EAAIG,YAAcC,OAAOL,GAClBC,EAAIK,SACb,CAEA,SAASC,qBAAqBC,EAAM,IAClC,MAAMC,EAAiBD,EAAM,iBAAiBA,IAAQ,YACtDE,OAAOC,SAASC,KAAO,sBAAsBC,mBAAmBJ,IAClE,CAEA,SAASK,gCAAgCC,EAAUC,EAAWR,EAAM,iBAClE,SAAIO,GAAiC,MAApBA,EAASE,QAAsC,MAApBF,EAASE,UAC/CD,EACFA,EAAUV,UAAY,8BAA8BR,sCAEpDoB,MAAMpB,+BAGRqB,WAAW,IAAMZ,qBAAqBC,GAAM,MACrC,EAIX,CAKAY,eAAeC,oBACb,MAAML,EAAYd,SAASoB,eAAe,2BAC1C,GAAKN,EAEL,IACE,MAAMO,QAAYC,MAAM,oCAAqC,CAC3DC,YAAa,gBAGf,IAAIC,EAEJ,IAAKH,EAAII,GAAI,CACX,GAAIb,gCAAgCS,EAAKP,GACvC,OAGF,IACEU,QAAeH,EAAIK,MACrB,CAAE,MAAOC,GACPH,EAAS,IACX,CAEA,MAAMI,EAAUJ,GAAQI,QAAU,KAAKJ,EAAOI,UAAY,GAC1D,MAAM,IAAIC,MAAM,QAAQR,EAAIN,SAASa,IACvC,CAEAJ,QAAeH,EAAIK,OAEG,YAAlBF,EAAOT,QACTxB,kBAAkBC,cAAgBgC,EAAOM,MAAQ,GACjDC,uBAEAjB,EAAUV,UAAY,8BAA8BoB,EAAOI,SAAW,uCAE1E,CAAE,MAAOI,GACPC,QAAQC,MAAM,6BAA8BF,GAC5C,MAAMJ,EAAUI,GAAOA,EAAIJ,QAAUI,EAAIJ,QAAU,gCACnDd,EAAUV,UAAY,8BAA8BwB,SACtD,CACF,CAKA,SAASG,sBACP,MAAMjB,EAAYd,SAASoB,eAAe,2BAErC7B,kBAAkBC,eAA4D,IAA3CD,kBAAkBC,cAAc2C,OAKxErB,EAAUV,UAAYb,kBAAkBC,cAAc4C,IAAIC,IACxD,MAAMC,EAAgB,CACpBC,SAAY,WACZC,MAAS,QACTC,WAAc,UACdC,OAAU,YACVL,EAAMM,iBAAmBN,EAAMM,eAE3BC,EAA0B,SAAfP,EAAMQ,KAAkB,cACT,UAAfR,EAAMQ,KAAmB,QAAU,MAE9CC,EAAWjD,WAAWwC,EAAMU,MAC5BC,EAAkBnD,WAAWwC,EAAMY,aAAe,cAClDC,EAAcrD,WAAWwC,EAAMc,eAAiB,IAChDC,EAAcvD,WAAWwC,EAAMgB,SAAW,IAC1CC,EAAezD,WAAWwC,EAAMkB,UAAY,IAAIC,QAAQ,MAAO,QAErE,MAAO,sHAEiEnB,EAAMoB,4FAE3CpB,EAAMqB,OAAS,SAAW,eAAerB,EAAMqB,OAAS,UAAY,yCACvFZ,kHAGoBT,EAAMqB,OAAS,SAAW,+EACOrB,EAAMoB,gHAGhBpB,EAAMoB,mKAGlBT,gIAGAE,gIAGAZ,2HAGAM,0CAGvCP,EAAMgB,QAAU,8QAG+DD,0CAE7E,+NAI8BE,yGAG+BjB,EAAMoB,wEAI5EE,KAAK,IAhEN7C,EAAUV,UAAY,yDAiE1B,CAKA,SAASwD,uBAAuBC,GAC9BC,0BAA0BD,EAC5B,CAEA3C,eAAe6C,mBAAmBF,GAChC,MAAMxB,EAAQ9C,kBAAkBC,cAAcwE,KAAKC,GAAKA,EAAER,IAAMI,GAChE,IAAKxB,EAAO,OAEZ,MAAM6B,GAAa7B,EAAMqB,OAEzB,IACE,MAAMS,EAAoC,mBAAjBC,mBAAoCA,eAAiB,KAC9E,IAAKD,EACH,MAAM,IAAItC,MAAM,4BAGlB,MAAMR,QAAYC,MAAM,0CAA2C,CACjE+C,OAAQ,OACR9C,YAAa,cACb+C,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEC,gBAAiBb,EAAgBH,OAAQQ,EAAWS,WAAYR,MAGzF,IAAK9C,EAAII,GAAI,CACX,GAAIb,gCAAgCS,EAAK,KAAM,iBAC7C,OAGF,MAAMO,QAAgBP,EAAIvB,OAC1B,MAAM,IAAI+B,MAAMD,GAAW,mCAC7B,CAGsB,mBADDP,EAAIK,QACdX,SACTsB,EAAMqB,OAASQ,EACfnC,sBAEJ,CAAE,MAAOC,GACPC,QAAQC,MAAM,iBAAkBF,GAChChB,MAAM,mCACR,CACF,CAGA,SAAS4D,oBACP,MAAMC,EAAY,IAAIC,gBAAgBtE,OAAOC,SAASsE,QAChDC,EAAehF,SAASoB,eAAe,2BACvCd,EAAMuE,EAAUI,IAAI,OAGtBD,GAAwB,kBAAR1E,GAClBa,mBAEJ,CAcA,SAAS2C,0BAA0BD,GACjC,MAAMxB,EAAQ9C,kBAAkBC,cAAcwE,KAAKC,GAAKA,EAAER,IAAMI,GAChE,IAAKxB,EAAO,OAEZ9C,kBAAkBE,eAAiB4C,EAEnCrC,SAASoB,eAAe,yBAAyBlB,YAAc,aAAamC,EAAMU,OAClF/C,SAASoB,eAAe,kBAAkB8D,MAAQ7C,EAAMM,eACxD3C,SAASoB,eAAe,gBAAgB8D,MAAQ7C,EAAMgB,SAAW,GACjErD,SAASoB,eAAe,iBAAiB8D,MAAQ7C,EAAMkB,SAGvD,MAAM4B,EAAqBnF,SAASoB,eAAe,uBAC/C+D,GAAsB9C,EAAM+C,YAC9BD,EAAmB/E,UAAYiC,EAAM+C,UAAUhD,IAAIiD,GACjD,uDAAuDA,QAAQA,YAC/D1B,KAAK,KAITpE,kBAAkBG,SAAW2C,EAAMiD,WAAa,GAChD/F,kBAAkBI,UAAY0C,EAAMkD,YAAc,GAClDC,iBACAC,kBAEAC,wBAEA,MAAMC,EAAQ3F,SAASoB,eAAe,yBACtCuE,EAAMC,MAAMC,QAAU,OACtBF,EAAMC,MAAME,SAAW,QACvBH,EAAMC,MAAMG,IAAM,IAClBJ,EAAMC,MAAMI,KAAO,IACnBL,EAAMC,MAAMK,MAAQ,QACpBN,EAAMC,MAAMM,OAAS,QACrBP,EAAMC,MAAMO,WAAa,SACzBR,EAAMC,MAAMQ,eAAiB,SAC7BT,EAAMC,MAAMS,OAAS,MAEvB,CAEA,SAASC,6BACPtG,SAASoB,eAAe,yBAAyBwE,MAAMC,QAAU,OACjEtG,kBAAkBE,eAAiB,KACnCO,SAASoB,eAAe,2BAA2BwE,MAAMC,QAAU,OACnE7F,SAASoB,eAAe,6BAA6BwE,MAAMC,QAAU,MACvE,CAEA,SAASU,eAAeC,GACtB,MAAMC,EAAWzG,SAASoB,eAAe,iBACnCsF,EAAQD,EAASE,eACjBC,EAAMH,EAASI,aACf/G,EAAO2G,EAASvB,MAEtBuB,EAASvB,MAAQpF,EAAKgH,UAAU,EAAGJ,GAASF,EAAW1G,EAAKgH,UAAUF,GACtEH,EAASM,QACTN,EAASO,kBAAkBN,EAAQF,EAASrE,OAAQuE,EAAQF,EAASrE,QAErEuD,uBACF,CAEA,SAASA,wBACP,MAAMnC,EAAWvD,SAASoB,eAAe,iBAAiB8D,MACpD+B,EAAUjH,SAASoB,eAAe,oBAExC,IAAK6F,EAAS,OAEd,IAAK1D,EAEH,YADA0D,EAAQ/G,YAAc,mBAKxB,IAAIgH,EAAc3D,EACfC,QAAQ,yBAA0B,aAClCA,QAAQ,gBAAiB,aACzBA,QAAQ,gBAAiB,SACzBA,QAAQ,oBAAqB,aAC7BA,QAAQ,0BAA2B,oBACnCA,QAAQ,mBAAoB,qBAC5BA,QAAQ,mBAAoB,cAC5BA,QAAQ,uBAAwB,0BAChCA,QAAQ,2BAA4B,gBACpCA,QAAQ,uBAAwB,kBAChCA,QAAQ,sBAAuB,mBAElCyD,EAAQ/G,YAAcgH,CACxB,CAGA,SAASC,yBACP,MAAMC,EAAgBpH,SAASoB,eAAe,iBAC1CgG,GACFA,EAAcC,iBAAiB,QAAS3B,sBAE5C,CASAxE,eAAeoG,2BACb,MAAMC,EAAWvH,SAASoB,eAAe,2BACnCoG,EAAaxH,SAASoB,eAAe,6BAI3C,GAHAmG,EAAS3B,MAAMC,QAAU,OACzB2B,EAAW5B,MAAMC,QAAU,QAEtBtG,kBAAkBE,eAAgB,OAEvC,MAAMqC,EAAO,CACX2F,UAAWzH,SAASoB,eAAe,kBAAkB8D,MACrD7B,QAASrD,SAASoB,eAAe,gBAAgB8D,MACjD3B,SAAUvD,SAASoB,eAAe,iBAAiB8D,MACnDI,UAAW/F,kBAAkBG,SAC7B6F,WAAYhG,kBAAkBI,WAGhC,IAAKmC,EAAKyB,SAASmE,OAGjB,OAFAH,EAASrH,YAAc,qCACvBqH,EAAS3B,MAAMC,QAAU,SAI3B,IACE,MAAM1B,EAAoC,mBAAjBC,mBAAoCA,eAAiB,KAC9E,IAAKD,EACH,MAAM,IAAItC,MAAM,4BAGlB,MAAMR,QAAYC,MAAM,0CAA2C,CACjE+C,OAAQ,OACR9C,YAAa,cACb+C,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEhB,GAAIlE,kBAAkBE,eAAegE,MAAO3B,EAAM6C,WAAYR,MAGvF,IAAK9C,EAAII,GAAI,CACX,GAAIb,gCAAgCS,EAAK,KAAM,iBAC7C,OAGF,MAAMO,QAAgBP,EAAIvB,OAC1B,MAAM,IAAI+B,MAAMD,GAAW,6BAC7B,CAEA,MAAMJ,QAAeH,EAAIK,OACH,YAAlBF,EAAOT,QACTyG,EAAWtH,YAAc,gCACzBsH,EAAW5B,MAAMC,QAAU,QAG3BtG,kBAAkBC,cAAgBD,kBAAkBC,cAAc4C,IAAI6B,GACpEA,EAAER,KAAOlE,kBAAkBE,eAAegE,GACtC,IAAKQ,KAAMnC,EAAMa,eAAgBb,EAAK2F,WACtCxD,GAGNlC,sBAEAd,WAAW,KACTqF,8BACC,QAEHiB,EAASrH,YAAcsB,EAAOI,SAAW,6BACzC2F,EAAS3B,MAAMC,QAAU,QAE7B,CAAE,MAAO7D,GACPuF,EAASrH,YAAc,6BACvBqH,EAAS3B,MAAMC,QAAU,QACzB5D,QAAQC,MAAMF,EAChB,CACF,CAKA,SAAS2F,aACP,MAAMC,EAAQ5H,SAASoB,eAAe,gBAChCyG,EAAQD,EAAM1C,MAAMwC,OAErBG,IACAA,EAAMC,MAAM,8BAIbvI,kBAAkBG,SAASqI,SAASF,GACtC7G,MAAM,6BAIRzB,kBAAkBG,SAASsI,KAAKH,GAChCD,EAAM1C,MAAQ,GACdM,kBAVExE,MAAM,0BAWV,CAEA,SAASiH,cAAcJ,GACrBtI,kBAAkBG,SAAWH,kBAAkBG,SAASwI,OAAOC,GAAKA,IAAMN,GAC1ErC,gBACF,CAEA,SAASA,iBACP,MAAM1E,EAAYd,SAASoB,eAAe,kBACrCN,IACLA,EAAUV,UAAYb,kBAAkBG,SAAS0C,IAAIyF,GAAS,wCAExDA,mEACuDA,iCAE1DlE,KAAK,IACV,CAEA,SAASyE,cACP,MAAMR,EAAQ5H,SAASoB,eAAe,iBAChCyG,EAAQD,EAAM1C,MAAMwC,OAErBG,IACAA,EAAMC,MAAM,8BAIbvI,kBAAkBI,UAAUoI,SAASF,GACvC7G,MAAM,6BAIRzB,kBAAkBI,UAAUqI,KAAKH,GACjCD,EAAM1C,MAAQ,GACdO,mBAVEzE,MAAM,0BAWV,CAEA,SAASqH,eAAeR,GACtBtI,kBAAkBI,UAAYJ,kBAAkBI,UAAUuI,OAAOC,GAAKA,IAAMN,GAC5EpC,iBACF,CAEA,SAASA,kBACP,MAAM3E,EAAYd,SAASoB,eAAe,mBACrCN,IACLA,EAAUV,UAAYb,kBAAkBI,UAAUyC,IAAIyF,GAAS,wCAEzDA,oEACwDA,iCAE3DlE,KAAK,IACV,CAKA,SAAS2E,iBACP,MAAM1C,EAAQ5F,SAASC,cAAc,SACrC2F,EAAM1F,YAAc,glBAqBpBF,SAASuI,KAAKC,YAAY5C,EAC5B,CA9R4B,YAAxB5F,SAASyI,WACXzI,SAASqH,iBAAiB,mBAAoBzC,mBAE9CA,oBAGF3C,QAAQyG,IAAI,iCAsGgB,YAAxB1I,SAASyI,WACXzI,SAASqH,iBAAiB,mBAAoBF,wBAE9CA,yBAoJFlF,QAAQyG,IAAI,0BA8BgB,YAAxB1I,SAASyI,WACXzI,SAASqH,iBAAiB,mBAAoBiB,gBAE9CA","ignoreList":[]}